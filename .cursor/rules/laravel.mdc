---
alwaysApply: true
---

# Laravelルール

## アーキテクチャ
- MVCアーキテクチャの遵守
- Fat-Componentアーキテクチャの採用
- SOLIDの原則に基づく設計
- 依存性注入とサービスコンテナの活用

## コード構造
- Laravelの標準ディレクトリ構造に従う
- ダッシュ付き小文字でのディレクトリ命名
- 説明的な変数名とメソッド名の使用
- 厳密な型指定（declare(strict_types=1)）

## データベース操作
- Eloquent ORMの使用必須
- 生のSQLクエリの使用禁止
- クエリビルダーの適切な活用
- N+1問題への対策必須
- 適切なマイグレーションとシーダーの実装

## セキュリティ
- Policyベースの認可制御
- 環境変数による機密情報管理
- XSS対策の必須化
- CSRF対策の必須化
- SQLインジェクション対策

## パフォーマンス
- キャッシュの適切な利用
- クエリのチューニング
- データベースインデックスの最適化
- ジョブキューの活用

## 認証/認可
- Livewire Starter Kitの活用
- ロールベースのアクセス制御（RBAC）
- セッション管理の適切な実装
- 2要素認証のサポート
- パスワードリセットフローの実装

## エラー処理
- Laravelの例外処理機能の活用
- カスタム例外の適切な作成
- try-catchブロックの適切な使用
- エラーロギングの実装

## Shell

```jsonc
{
  "shell": {
    "php": "./vendor/bin/sail",
    "composer": "./vendor/bin/sail composer",
    "npm": "./vendor/bin/sail npm"
  }
}
```
